# 快速测试指南

## 如何测试修复效果

### 1️⃣ 测试首页仪表盘统计数据

**测试步骤**：
1. 启动前端开发服务器（如果还未启动）
2. 访问首页仪表盘
3. 打开浏览器控制台（F12）查看日志
4. 点击右上角的"刷新数据"按钮

**预期结果**：
- 如果数据库中有数据：显示实际的销售额、低库存商品数等
- 如果数据库中没有数据：显示 `¥0.00` 和 `0`
- 控制台会输出 `Dashboard statistics data: {...}` 日志

**如果显示为0的原因**：
- 数据库 `sale_order` 表中没有今日/本月的销售记录
- 数据库 `purchase_order` 表中没有待审核的订单（status=0）
- 数据库 `inventory` 表中没有库存低于预警值的商品

**快速添加测试数据**（可选）：
```sql
-- 添加一条今日销售订单
INSERT INTO sale_order (order_no, customer_id, total_amount, status, cashier_id, create_time, update_time)
VALUES ('SO20251106001', 1, 1500.00, 1, 1, NOW(), NOW());

-- 添加一条待审核的采购订单
INSERT INTO purchase_order (order_no, supplier_id, total_amount, status, applicant_id, create_time, update_time)
VALUES ('PO20251106001', 1, 3000.00, 0, 1, NOW(), NOW());
```

---

### 2️⃣ 测试销售趋势分析切换

**测试步骤**：
1. 访问首页仪表盘
2. 找到"销售趋势分析"图表
3. 依次点击"本周"、"本月"、"本年"按钮

**预期结果**：
- **点击"本周"**：X轴显示 周一~周日，数据更新
- **点击"本月"**：X轴显示 1日、5日、10日...30日，数据更新
- **点击"本年"**：X轴显示 1月~12月，数据更新
- 图表动画平滑过渡，销售额柱状图和订单数折线图都会更新

---

### 3️⃣ 测试最新动态和待办事项

**测试步骤**：
1. 访问首页仪表盘
2. 滚动到页面底部
3. 查看"最新动态"和"待办事项"区域

**预期结果**：
- **最新动态**：显示系统运行状态（已同步最新数据、数据备份完成等）
- **待办事项**：
  - 如果有待审核采购订单：显示"待审核采购订单 X 个"（高优先级，红色标签）
  - 如果有低库存商品：显示"处理低库存商品 X 个"（高优先级，红色标签）
  - 始终显示：查看本周销售报表、更新商品价格（普通优先级，蓝色标签）

---

### 4️⃣ 测试商品管理页面

**测试步骤**：
1. 点击左侧菜单的"商品管理"
2. 等待页面加载

**预期结果**：
- ✅ 页面正常显示，不再是空白
- ✅ 顶部显示卡片头部：左侧有标题"商品管理"和副标题"管理商品信息"
- ✅ 右上角有蓝色的"新增商品"按钮
- ✅ 下方有搜索工具栏（商品名称、商品分类、状态筛选）
- ✅ 底部有商品列表表格和分页组件

**如果表格为空**：
- 这是正常的，说明数据库中还没有商品数据
- 可以点击"新增商品"按钮添加商品

---

### 5️⃣ 测试按钮位置

**测试步骤**：
依次访问以下页面，检查按钮位置：
1. 商品管理
2. 分类管理
3. 供应商管理
4. 采购管理
5. 销售管理
6. 库存管理

**预期结果**：
所有页面都应该是这样的布局：
```
┌─────────────────────────────────────────────────────┐
│  📦 页面标题                          [新增/刷新按钮] │
│  页面副标题                                          │
└─────────────────────────────────────────────────────┘
```

- ✅ 标题和副标题在左侧
- ✅ 操作按钮（新增/刷新）在右侧
- ✅ 垂直居中对齐
- ✅ 视觉上更加美观和平衡

---

## 启动命令（如果需要）

### 启动后端
```bash
cd supermarket-backend
mvn spring-boot:run
```
后端运行在：http://localhost:8080/api

### 启动前端
```bash
cd supermarket-frontend
npm run dev
```
前端运行在：http://localhost:5173

---

## 常见问题

### Q1: 统计数据一直显示0？
**A**: 检查以下几点：
1. 后端是否正常启动（访问 http://localhost:8080/api/statistics/dashboard）
2. 数据库是否有数据（执行上面的 SQL 插入测试数据）
3. 打开控制台查看是否有API请求错误

### Q2: 销售趋势切换后数据不变？
**A**: 检查：
1. 打开浏览器控制台，查看是否有报错
2. 确认点击按钮后控制台是否输出 "已切换到XX数据" 的日志
3. 刷新页面重试

### Q3: 商品管理页面还是空白？
**A**: 
1. 清除浏览器缓存（Ctrl+Shift+Delete）
2. 重启前端开发服务器
3. 检查控制台是否有CSS或JS加载错误

### Q4: 按钮还在左侧？
**A**: 
1. 清除浏览器缓存
2. 强制刷新（Ctrl+F5）
3. 检查是否是浏览器缩放导致的视觉偏差

---

## 浏览器开发者工具使用

### 打开控制台
- Windows/Linux: `F12` 或 `Ctrl+Shift+I`
- Mac: `Cmd+Option+I`

### 查看网络请求
1. 打开控制台
2. 切换到 "Network"（网络）标签
3. 刷新页面
4. 查看 `/statistics/dashboard` 等API请求是否成功（状态码200）

### 查看日志
1. 打开控制台
2. 切换到 "Console"（控制台）标签
3. 查看是否有红色的错误信息
4. 查看蓝色的调试日志（`Dashboard statistics data`等）

---

## 验收清单

测试完成后，请确认：

- [ ] 首页统计数据正常显示（如果有数据）或显示0（如果无数据）
- [ ] 销售趋势可以正常切换本周/本月/本年
- [ ] 最新动态和待办事项动态更新
- [ ] 商品管理页面正常显示，无空白
- [ ] 所有管理页面的按钮在右侧显示
- [ ] 没有浏览器控制台错误

---

## 如果还有问题

如果测试过程中发现任何问题，请提供：
1. 问题的详细描述
2. 浏览器控制台的错误截图
3. 操作步骤
4. 预期结果和实际结果

我会继续帮你解决！😊





