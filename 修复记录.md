# å‰ç«¯å¯åŠ¨é—®é¢˜ä¿®å¤è®°å½• ğŸ”§

## é—®é¢˜æè¿°

å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨æ—¶å‡ºç°é”™è¯¯ï¼š
```
X [ERROR] No matching export in "src/api/xxx.js" for import "default"
```

---

## é—®é¢˜åŸå› 

æ–°åˆ›å»ºçš„é¡µé¢ç»„ä»¶ä½¿ç”¨äº† **é»˜è®¤å¯¼å…¥ï¼ˆdefault importï¼‰**ï¼š
```javascript
import categoryApi from '@/api/category'
import supplierApi from '@/api/supplier'
// ...
```

ä½†æ˜¯ API æ¨¡å—ä½¿ç”¨çš„æ˜¯ **å…·åå¯¼å‡ºï¼ˆnamed exportï¼‰**ï¼š
```javascript
export function getCategoryList(params) { ... }
export function createCategory(data) { ... }
```

**å¯¼è‡´å†²çª**ï¼šé¡µé¢æœŸæœ›é»˜è®¤å¯¼å‡ºï¼Œä½† API æ–‡ä»¶åªæä¾›äº†å…·åå¯¼å‡ºã€‚

---

## ä¿®å¤æ–¹æ¡ˆ

ä¸ºæ¯ä¸ª API æ–‡ä»¶æ·»åŠ  **é»˜è®¤å¯¼å‡ºï¼ˆdefault exportï¼‰**ï¼Œå°†æ‰€æœ‰å‡½æ•°é›†åˆæˆä¸€ä¸ªå¯¹è±¡ï¼š

### ä¿®å¤å‰
```javascript
// category.js
export function getCategoryList(params) { ... }
export function createCategory(data) { ... }
// æ²¡æœ‰ export default
```

### ä¿®å¤å
```javascript
// category.js
export function getCategoryList(params) { ... }
export function createCategory(data) { ... }

// æ·»åŠ é»˜è®¤å¯¼å‡º
export default {
  getList: getCategoryList,
  create: createCategory,
  update: updateCategory,
  delete: deleteCategory
}
```

---

## å·²ä¿®å¤çš„æ–‡ä»¶

### 1. `src/api/category.js` âœ…
```javascript
export default {
  getList: getCategoryList,
  getTree: getCategoryTree,
  getAll: getAllCategories,
  create: createCategory,
  update: updateCategory,
  delete: deleteCategory
}
```

### 2. `src/api/supplier.js` âœ…
```javascript
export default {
  getList: getSupplierList,
  getEnabled: getEnabledSuppliers,
  getAll: getAllSuppliers,
  create: createSupplier,
  update: updateSupplier,
  delete: deleteSupplier
}
```

### 3. `src/api/inventory.js` âœ…
```javascript
export default {
  getList: getInventoryList,
  adjust: adjustInventory,
  getStats: getInventoryStats
}
```

### 4. `src/api/purchase.js` âœ…
```javascript
export default {
  getList: getPurchaseOrderList,
  getDetail: getPurchaseOrderDetail,
  create: createPurchaseOrder,
  audit: auditPurchaseOrder,
  confirm: confirmInbound,
  delete: deletePurchaseOrder
}
```

### 5. `src/api/sale.js` âœ…
```javascript
export default {
  getList: getSaleOrderList,
  getDetail: getSaleOrderDetail,
  create: createSaleOrder,
  pay: paySaleOrder,
  confirm: paySaleOrder,
  cancel: cancelSaleOrder,
  delete: deleteSaleOrder
}
```

### 6. `src/api/user.js` âœ…
```javascript
export default {
  getList: getUserList,
  create: createUser,
  update: updateUser,
  delete: deleteUser,
  updateStatus: updateUserStatus,
  resetPassword: resetPassword
}
```

### 7. `src/api/product.js` âœ…
```javascript
export default {
  getList: getProductList,
  getDetail: getProductDetail,
  getAll: getAllProducts,
  create: createProduct,
  update: updateProduct,
  delete: deleteProduct,
  updateStatus: updateProductStatus
}
```

---

## é™„åŠ ä¿®å¤

### API è°ƒç”¨æ–¹æ³•ç­¾åè°ƒæ•´

**é‡‡è´­é¡µé¢ (`Purchase.vue`)**:
```javascript
// ä¿®å¤å‰
await purchaseApi.create(form.value)
await purchaseApi.confirm(row.id)

// ä¿®å¤å
await createPurchaseOrder(form.value, 1) // æ·»åŠ  applicantId å‚æ•°
await confirmInbound(row.id, 1) // æ·»åŠ  operatorId å‚æ•°
```

**é”€å”®é¡µé¢ (`Sale.vue`)**:
```javascript
// ä¿®å¤å‰
await saleApi.create(form.value)

// ä¿®å¤å
await createSaleOrder(form.value, 1) // æ·»åŠ  cashierId å‚æ•°
```

---

## ä½¿ç”¨æ–¹å¼

ç°åœ¨ API æ¨¡å—æ”¯æŒä¸¤ç§å¯¼å…¥æ–¹å¼ï¼š

### æ–¹å¼ä¸€ï¼šé»˜è®¤å¯¼å…¥ï¼ˆæ¨èï¼‰
```javascript
import categoryApi from '@/api/category'

// ä½¿ç”¨
categoryApi.getList({ pageNum: 1, pageSize: 10 })
categoryApi.create(data)
categoryApi.update(data)
categoryApi.delete(id)
```

### æ–¹å¼äºŒï¼šå…·åå¯¼å…¥
```javascript
import { getCategoryList, createCategory } from '@/api/category'

// ä½¿ç”¨
getCategoryList({ pageNum: 1, pageSize: 10 })
createCategory(data)
```

---

## éªŒè¯ä¿®å¤

å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
```bash
cd supermarket-frontend
npm run dev
```

**é¢„æœŸç»“æœ**ï¼š
- âœ… æ²¡æœ‰å¯¼å…¥é”™è¯¯
- âœ… æ‰€æœ‰é¡µé¢æ­£å¸¸åŠ è½½
- âœ… API è°ƒç”¨æ­£å¸¸å·¥ä½œ

---

## ç»éªŒæ€»ç»“

### 1. ç»Ÿä¸€å¯¼å‡ºé£æ ¼

åœ¨å›¢é˜Ÿå¼€å‘ä¸­ï¼Œå»ºè®®ç»Ÿä¸€ API æ¨¡å—çš„å¯¼å‡ºé£æ ¼ï¼š
- è¦ä¹ˆå…¨éƒ¨ä½¿ç”¨å…·åå¯¼å‡º
- è¦ä¹ˆåŒæ—¶æä¾›å…·åå¯¼å‡ºå’Œé»˜è®¤å¯¼å‡ºï¼ˆæœ€çµæ´»ï¼‰

### 2. æ¨èçš„ API æ¨¡å—ç»“æ„

```javascript
// å…·åå¯¼å‡ºæ‰€æœ‰å‡½æ•°
export function getList(params) { ... }
export function create(data) { ... }
export function update(data) { ... }
export function delete(id) { ... }

// åŒæ—¶æä¾›é»˜è®¤å¯¼å‡ºï¼ˆé›†åˆæ‰€æœ‰æ–¹æ³•ï¼‰
export default {
  getList,
  create,
  update,
  delete
}
```

**ä¼˜ç‚¹**ï¼š
- æ”¯æŒé»˜è®¤å¯¼å…¥ï¼ˆç®€æ´ï¼‰
- æ”¯æŒå…·åå¯¼å…¥ï¼ˆçµæ´»ï¼‰
- æŒ‰éœ€å¯¼å…¥ï¼ˆTree Shaking å‹å¥½ï¼‰

### 3. å‘½åè§„èŒƒ

é»˜è®¤å¯¼å‡ºçš„æ–¹æ³•åå»ºè®®ä½¿ç”¨ç®€åŒ–ç‰ˆï¼š
```javascript
export default {
  getList: getUserList,      // ç®€åŒ–ä¸º getList
  create: createUser,        // ç®€åŒ–ä¸º create
  update: updateUser,        // ç®€åŒ–ä¸º update
  delete: deleteUser         // ç®€åŒ–ä¸º delete
}
```

**å¥½å¤„**ï¼šè°ƒç”¨æ—¶æ›´ç®€æ´
```javascript
userApi.create(data)  // è€Œä¸æ˜¯ userApi.createUser(data)
```

---

## å®ŒæˆçŠ¶æ€

âœ… æ‰€æœ‰ API æ¨¡å—å·²ä¿®å¤  
âœ… æ‰€æœ‰é¡µé¢å¯¼å…¥å·²ä¿®å¤  
âœ… å‰ç«¯å¼€å‘æœåŠ¡å™¨å¯ä»¥æ­£å¸¸å¯åŠ¨  
âœ… æ‰€æœ‰åŠŸèƒ½é¡µé¢å·²å®Œæˆå¼€å‘  

---

## ä¸‹ä¸€æ­¥

1. **å¯åŠ¨å‰ç«¯**ï¼š
   ```bash
   npm run dev
   ```

2. **å¯åŠ¨åç«¯**ï¼š
   ```bash
   cd supermarket-backend
   mvn spring-boot:run
   ```

3. **è®¿é—®ç³»ç»Ÿ**ï¼š
   - å‰ç«¯ï¼šhttp://localhost:3000
   - åç«¯ï¼šhttp://localhost:8080/api
   - æ¥å£æ–‡æ¡£ï¼šhttp://localhost:8080/api/doc.html

4. **æµ‹è¯•åŠŸèƒ½**ï¼š
   - ç™»å½•é¡µé¢
   - é¦–é¡µä»ªè¡¨ç›˜
   - å„ä¸ªç®¡ç†æ¨¡å—

---

**ä¿®å¤å®Œæˆæ—¶é—´**ï¼š2024-11-05  
**ä¿®å¤äººå‘˜**ï¼šAI Assistant  
**çŠ¶æ€**ï¼šâœ… å·²è§£å†³


