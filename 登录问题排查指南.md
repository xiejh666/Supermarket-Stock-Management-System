# ç™»å½•é—®é¢˜æ’æŸ¥æŒ‡å— ğŸ”

## ğŸ“‹ é—®é¢˜æè¿°

ç”¨æˆ·åï¼š`admin`  
å¯†ç ï¼š`123456`  
ç™»å½•å¤±è´¥

---

## âœ… å¿«é€Ÿæ£€æŸ¥æ¸…å•

### 1. åç«¯æ£€æŸ¥

#### â‘  åç«¯æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼Ÿ

**æ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
# Started SupermarketApplication in X.XXX seconds
```

**è®¿é—®æ¥å£æ–‡æ¡£**ï¼š
- æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080/api/doc.html
- å¦‚æœèƒ½æ­£å¸¸æ‰“å¼€è¯´æ˜åç«¯å¯åŠ¨æˆåŠŸ

---

#### â‘¡ æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿ

**æ£€æŸ¥ `application.yml`**ï¼š
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/supermarket_db  # æ³¨æ„æ•°æ®åº“å
    username: root
    password: root  # æ”¹ä¸ºä½ çš„MySQLå¯†ç 
```

**é‡è¦**ï¼šæ•°æ®åº“åç§°æ˜¯ `supermarket_db`ï¼Œä¸æ˜¯ `supermarket_system`ï¼

---

#### â‘¢ æ•°æ®åº“æ˜¯å¦åˆ›å»ºå¹¶å¯¼å…¥æ•°æ®ï¼Ÿ

**æ‰§è¡Œä»¥ä¸‹ SQL æ£€æŸ¥**ï¼š

```sql
-- 1. æ£€æŸ¥æ•°æ®åº“
SHOW DATABASES LIKE 'supermarket_db';

-- 2. ä½¿ç”¨æ•°æ®åº“
USE supermarket_db;

-- 3. æ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨
SHOW TABLES;

-- 4. æ£€æŸ¥ç”¨æˆ·æ•°æ®
SELECT * FROM sys_user WHERE username = 'admin';
```

**é¢„æœŸç»“æœ**ï¼š
```
+----+----------+--------------------------------------------------------------+------------+-------------+--------+---------+
| id | username | password                                                     | real_name  | phone       | status | role_id |
+----+----------+--------------------------------------------------------------+------------+-------------+--------+---------+
|  1 | admin    | $2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iwK8pDPW | ç®¡ç†å‘˜     | 13800138000 |      1 |       1 |
+----+----------+--------------------------------------------------------------+------------+-------------+--------+---------+
```

å¦‚æœæŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œè¯´æ˜æ•°æ®æœªå¯¼å…¥ï¼

---

### 2. å‰ç«¯æ£€æŸ¥

#### â‘  å‰ç«¯æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼Ÿ

**æ£€æŸ¥æ§åˆ¶å°è¾“å‡º**ï¼š
```
VITE v5.4.0  ready in XXX ms
âœ  Local:   http://localhost:3000/
```

---

#### â‘¡ æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ï¼Ÿ

**æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·**ï¼š
- æŒ‰ F12
- åˆ‡æ¢åˆ° Console æ ‡ç­¾
- æŸ¥çœ‹æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯

---

#### â‘¢ Network é¢æ¿æ£€æŸ¥æ¥å£è°ƒç”¨

**æ­¥éª¤**ï¼š
1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° Network æ ‡ç­¾
3. è¾“å…¥è´¦å·å¯†ç ç‚¹å‡»ç™»å½•
4. æŸ¥çœ‹ `/api/auth/login` è¯·æ±‚ï¼š
   - **Status**: åº”è¯¥æ˜¯ 200ï¼ˆæˆåŠŸï¼‰
   - **Response**: æŸ¥çœ‹å“åº”å†…å®¹

---

## ğŸ”§ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ 1ï¼šåç«¯è¿æ¥æ•°æ®åº“å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Error: Could not connect to MySQL
java.sql.SQLException: Access denied for user 'root'@'localhost'
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ä¿®æ”¹ `application.yml` ä¸­çš„æ•°æ®åº“å¯†ç 
2. ç¡®è®¤ MySQL æœåŠ¡å·²å¯åŠ¨
3. ç¡®è®¤ç”¨æˆ·åå¯†ç æ­£ç¡®

---

### é—®é¢˜ 2ï¼šæ•°æ®åº“ä¸å­˜åœ¨

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Unknown database 'supermarket_db'
```

**è§£å†³æ–¹æ¡ˆ**ï¼š

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨ DataGrip åˆ›å»º**
```sql
CREATE DATABASE supermarket_db 
DEFAULT CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;
```

**æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œ**
```bash
mysql -u root -p
CREATE DATABASE supermarket_db DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
exit;
```

ç„¶åå¯¼å…¥æ•°æ®ï¼š
```bash
mysql -u root -p supermarket_db < sql/schema.sql
mysql -u root -p supermarket_db < sql/data.sql
```

---

### é—®é¢˜ 3ï¼šæ•°æ®æœªå¯¼å…¥

**æ£€æŸ¥æ–¹æ³•**ï¼š
```sql
USE supermarket_db;
SELECT COUNT(*) FROM sys_user;
```

å¦‚æœè¿”å› 0ï¼Œè¯´æ˜æ•°æ®æœªå¯¼å…¥ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š
ä½¿ç”¨ DataGripï¼š
1. è¿æ¥åˆ° MySQL
2. é€‰æ‹© `supermarket_db` æ•°æ®åº“
3. æ‰“å¼€ `sql/schema.sql`
4. ç‚¹å‡» Execute æ‰§è¡Œ
5. æ‰“å¼€ `sql/data.sql`
6. ç‚¹å‡» Execute æ‰§è¡Œ

---

### é—®é¢˜ 4ï¼šå‰ç«¯æ— æ³•è¿æ¥åç«¯

**é”™è¯¯ä¿¡æ¯ï¼ˆæµè§ˆå™¨æ§åˆ¶å°ï¼‰**ï¼š
```
Failed to fetch
Network Error
ERR_CONNECTION_REFUSED
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤åç«¯å·²å¯åŠ¨ï¼ˆè®¿é—® http://localhost:8080/api/doc.htmlï¼‰
2. æ£€æŸ¥ `vite.config.js` ä»£ç†é…ç½®ï¼š
```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8080',
      changeOrigin: true
    }
  }
}
```

---

### é—®é¢˜ 5ï¼šç”¨æˆ·åæˆ–å¯†ç é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š
```json
{
  "code": 500,
  "message": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯"
}
```

**å¯èƒ½åŸå› **ï¼š
1. æ•°æ®åº“ä¸­æ²¡æœ‰è¯¥ç”¨æˆ·
2. å¯†ç ä¸åŒ¹é…
3. å¯†ç åŠ å¯†æ–¹å¼ä¸å¯¹

**è§£å†³æ–¹æ¡ˆ**ï¼š

#### æ£€æŸ¥ç”¨æˆ·æ•°æ®
```sql
SELECT * FROM sys_user WHERE username = 'admin';
```

#### å¦‚æœç”¨æˆ·ä¸å­˜åœ¨ï¼Œæ‰‹åŠ¨æ’å…¥
```sql
-- å¯†ç æ˜¯ BCrypt åŠ å¯†çš„ "123456"
INSERT INTO sys_user (username, password, real_name, phone, status, role_id) 
VALUES ('admin', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iwK8pDPW', 'ç®¡ç†å‘˜', '13800138000', 1, 1);
```

---

### é—®é¢˜ 6ï¼šCORS è·¨åŸŸé”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Access to XMLHttpRequest blocked by CORS policy
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
åç«¯åº”è¯¥å·²ç»é…ç½®äº† CORSï¼Œä½†å¦‚æœè¿˜æ˜¯æŠ¥é”™ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ä»¥ä¸‹é…ç½®ï¼š

åœ¨ Spring Boot ä¸­æ·»åŠ  CORS é…ç½®ï¼ˆå¦‚æœæ²¡æœ‰çš„è¯ï¼‰ï¼š
```java
@Configuration
public class CorsConfig {
    @Bean
    public CorsFilter corsFilter() {
        CorsConfiguration config = new CorsConfiguration();
        config.addAllowedOriginPattern("*");
        config.addAllowedMethod("*");
        config.addAllowedHeader("*");
        config.setAllowCredentials(true);
        
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        source.registerCorsConfiguration("/**", config);
        
        return new CorsFilter(source);
    }
}
```

---

## ğŸ” è¯¦ç»†æ’æŸ¥æ­¥éª¤

### æ­¥éª¤ 1ï¼šéªŒè¯æ•°æ®åº“

```sql
-- 1. è¿æ¥ MySQL
mysql -u root -p

-- 2. æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“
SHOW DATABASES;

-- 3. ä½¿ç”¨è¶…å¸‚æ•°æ®åº“
USE supermarket_db;

-- 4. æŸ¥çœ‹æ‰€æœ‰è¡¨
SHOW TABLES;

-- 5. æŸ¥çœ‹ç”¨æˆ·è¡¨ç»“æ„
DESC sys_user;

-- 6. æŸ¥çœ‹ç”¨æˆ·æ•°æ®
SELECT id, username, real_name, status, role_id FROM sys_user;

-- 7. æ£€æŸ¥ admin ç”¨æˆ·
SELECT * FROM sys_user WHERE username = 'admin';
```

---

### æ­¥éª¤ 2ï¼šæµ‹è¯•åç«¯æ¥å£

ä½¿ç”¨ **Postman** æˆ– **Apifox** æµ‹è¯•ï¼š

**è¯·æ±‚**ï¼š
```
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "123456"
}
```

**é¢„æœŸå“åº”ï¼ˆæˆåŠŸï¼‰**ï¼š
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "userId": 1,
    "username": "admin",
    "realName": "ç®¡ç†å‘˜",
    "roleCode": "ADMIN",
    "roleName": "ç®¡ç†å‘˜"
  }
}
```

**å¦‚æœå¤±è´¥**ï¼ŒæŸ¥çœ‹å“åº”å†…å®¹å’Œåç«¯æ—¥å¿—ã€‚

---

### æ­¥éª¤ 3ï¼šæ£€æŸ¥å‰ç«¯è¯·æ±‚

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ° Network æ ‡ç­¾
4. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œç‚¹å‡»ç™»å½•
5. æŸ¥çœ‹è¯·æ±‚è¯¦æƒ…ï¼š

**è¯·æ±‚ URL**ï¼š
```
http://localhost:3000/api/auth/login
```

**è¯·æ±‚å¤´**ï¼š
```
Content-Type: application/json
```

**è¯·æ±‚ä½“**ï¼š
```json
{
  "username": "admin",
  "password": "123456"
}
```

**å“åº”çŠ¶æ€ç **ï¼š
- 200 = æˆåŠŸ
- 401 = æœªæˆæƒï¼ˆç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼‰
- 404 = æ¥å£ä¸å­˜åœ¨ï¼ˆæ£€æŸ¥ URLï¼‰
- 500 = æœåŠ¡å™¨é”™è¯¯ï¼ˆæŸ¥çœ‹åç«¯æ—¥å¿—ï¼‰
- ERR_CONNECTION_REFUSED = åç«¯æœªå¯åŠ¨

---

## ğŸ“ å®Œæ•´çš„é‡æ–°åˆå§‹åŒ–æµç¨‹

å¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œï¼Œå»ºè®®å®Œå…¨é‡æ–°åˆå§‹åŒ–ï¼š

### 1. åˆ é™¤å¹¶é‡å»ºæ•°æ®åº“

```sql
-- åˆ é™¤æ—§æ•°æ®åº“
DROP DATABASE IF EXISTS supermarket_db;

-- åˆ›å»ºæ–°æ•°æ®åº“
CREATE DATABASE supermarket_db 
DEFAULT CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;

-- ä½¿ç”¨æ•°æ®åº“
USE supermarket_db;

-- å¯¼å…¥è¡¨ç»“æ„ï¼ˆåœ¨ DataGrip ä¸­æ‰§è¡Œ sql/schema.sqlï¼‰
-- å¯¼å…¥åˆå§‹æ•°æ®ï¼ˆåœ¨ DataGrip ä¸­æ‰§è¡Œ sql/data.sqlï¼‰
```

### 2. ä¿®æ”¹åç«¯é…ç½®

æ£€æŸ¥ `application.yml`ï¼š
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/supermarket_db?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: ä½ çš„MySQLå¯†ç   # ä¿®æ”¹è¿™é‡Œ
```

### 3. é‡å¯åç«¯

```bash
cd supermarket-backend
mvn clean
mvn spring-boot:run
```

### 4. é‡å¯å‰ç«¯

```bash
cd supermarket-frontend
npm run dev
```

### 5. æµ‹è¯•ç™»å½•

è®¿é—® http://localhost:3000ï¼Œä½¿ç”¨ï¼š
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`123456`

---

## ğŸ¯ å¿«é€Ÿè¯Šæ–­å‘½ä»¤

**ä¸€é”®æ£€æŸ¥æ‰€æœ‰å…³é”®ç‚¹**ï¼š

```bash
# 1. æ£€æŸ¥ MySQL æ˜¯å¦è¿è¡Œ
mysql -V

# 2. æ£€æŸ¥æ•°æ®åº“å’Œç”¨æˆ·
mysql -u root -p -e "USE supermarket_db; SELECT COUNT(*) as user_count FROM sys_user;"

# 3. æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨
curl http://localhost:8080/api/doc.html

# 4. æµ‹è¯•ç™»å½•æ¥å£
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"123456"}'
```

---

## ğŸ“ è¿˜æ˜¯ä¸è¡Œï¼Ÿ

å¦‚æœä»¥ä¸Šéƒ½å°è¯•äº†è¿˜æ˜¯ä¸è¡Œï¼Œè¯·æä¾›ï¼š

1. **åç«¯å¯åŠ¨æ—¥å¿—**ï¼ˆæœ€å50è¡Œï¼‰
2. **æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯**
3. **Network é¢æ¿çš„è¯·æ±‚è¯¦æƒ…**ï¼š
   - Request URL
   - Request Headers
   - Request Payload
   - Response

è¿™æ ·æˆ‘æ‰èƒ½æ›´ç²¾ç¡®åœ°å®šä½é—®é¢˜ï¼

---

## âœ… æˆåŠŸç™»å½•çš„æ ‡å¿—

ç™»å½•æˆåŠŸåï¼š
- âœ… æµè§ˆå™¨è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µï¼ˆ`/dashboard`ï¼‰
- âœ… èƒ½çœ‹åˆ°é¡¶éƒ¨æ æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
- âœ… å·¦ä¾§ä¾§è¾¹æ æ˜¾ç¤ºèœå•
- âœ… LocalStorage ä¸­ä¿å­˜äº† token

æ£€æŸ¥ Tokenï¼š
1. æŒ‰ F12
2. Application æ ‡ç­¾
3. Local Storage
4. http://localhost:3000
5. æŸ¥çœ‹æ˜¯å¦æœ‰ `token` å’Œ `userInfo`

---

**ç¥æ‚¨é¡ºåˆ©è§£å†³é—®é¢˜ï¼** ğŸš€


